define(["jquery"],function(t){function e(){var t=window.location.search.substring(1),e="";e=t?t+"&":i.attr(u),i.attr(u,e)}function l(t){var e=i.attr(u);if(e)for(var l=e.split(","),r=0;r<l.length;r++){var n=l[r].split(":");if(n[0]==t)return n[1]}return"all"}function r(t,e){for(var l=i.attr(u),r=void 0!=l?l.split("&"):"",n=[],a="",s=t+"="+e+"&",o=0;o<r.length;o++)n=r[o].split("="),a+=n[0]==t?n[0]+"="+e+"&":n[0]+"="+n[1]+"&";return"all"==e&&(a==s||(a=a.replace(s,""))),a}function n(t){var e={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(t,l,r){e[l]=void 0!==r?r:""}),t?e[t]?e[t]:null:e}function a(a,s,o){var c="#capsule-filters-"+o+" .capsule-filters-item-link",f="",p="",h="",d=l(o),v=n(o);if(e(),o){if(h=i.attr(u),d==a)h=r(o,a);else if(null!=v){var g=o+"="+v,w=o+"="+a;h=h.replace(g,w)}else h+=o+"="+a+"&";h=h.replace("=undefined&",""),i.attr(u,h)}null==a||""==a||(t(c).removeClass("selected"),t(c+'[data-filter="'+a+'"]').addClass("selected"));var m=h.slice(0,-1),y=m.split("&");if(y.length>0&&t.each(y,function(t,e){/=all/i.test(e)?e="":e+="&",p+=e}),p.length>1){var S=p.substr(p.length-1);f="&"==S?"?"+p.slice(0,-1):"?"+p,window.history.pushState(null,null,f)}else{var b=location.pathname,C=b.split("/");f=C[C.length-1],window.history.replaceState(null,null,f)}}var i=t("#url-path"),u="data-urlar";return{getParam:function(t){return n(t)},urlSetup:function(t,e,l){a(t,e,l)}}});