!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e||self).analyticsSdk={})}(this,function(e){var n=function(e){var n=e.country,t=e.currency,r=e.exchangeRate;this.country=void 0,this.currency=void 0,this.exchangeRate=void 0,this.country=n,this.currency=t,this.exchangeRate=r},t=/*#__PURE__*/function(){function e(){}var n=e.prototype;return n.getViewItemProduct=function(e){var n,t=null==(n=window.dataLayer)?void 0:n.flatMap(function(e){return"view_item"===(null==e?void 0:e.event)?e.items:[]});return e?null==t?void 0:t.find(function(n){return n.item_id==e}):null==t?void 0:t[0]},n.getViewItemListProduct=function(e){var n,t=null==(n=window.dataLayer)?void 0:n.flatMap(function(e){return"view_item_list"===(null==e?void 0:e.event)?e.items:[]});return e?null==t?void 0:t.find(function(n){return n.item_id==e}):null==t?void 0:t[0]},n.getDeliveryMethod=function(){var e,n;return null==(e=window.dataLayer)||null==(n=e.reverse().find(function(e){return e.main_shipping_option}))?void 0:n.main_shipping_option},n.push=function(e){var n;null==(n=window.dataLayer)||n.push(e)},e}();function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(this,arguments)}function o(e){throw new Error(e)}t.dataLayer=new t;var i="genericEvent",a=/*#__PURE__*/function(){function e(e,n,t,r,o,i){this.event=void 0,this.category=void 0,this.action=void 0,this.label=void 0,this.country=void 0,this.genericEventData=void 0,this.event=e,this.category=n,this.action=t,this.label=r,this.country=o,this.genericEventData=i}return e.prototype.clearEventData=function(){return{genericEventData:void 0}},e}();function c(e,n,t){return{name:"simpleTrackEvent",event:{category:e,action:n,label:t}}}function u(e,n){var t,a,c,u=e.event;return u||o("Error: event not found"),r({event:i,category:null!=(t=u.category)?t:o("Error: category in genericEvent is null or undefined"),action:null!=(a=u.action)?a:o("Error: action in genericEvent is null or undefined"),label:null!=(c=u.label)?c:"",country:n},u.actionElement&&{actionElement:u.actionElement})}function l(e,n,t){e.push(u(n,t.country))}var s=/*#__PURE__*/function(){function e(e){this.dataLayer=void 0,this.dataLayer=e}return e.prototype.push=function(e){this.dataLayer.push(e),e instanceof a&&this.dataLayer.push(e.clearEventData())},e}(),d={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},v=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];Object.prototype.hasOwnProperty.call(d,e)||(e=d.log),v[e].apply(v,n)};v.debug=console.debug.bind(console),v.log=console.log.bind(console),v.info=console.info.bind(console),v.warn=console.warn.bind(console),v.error=console.error.bind(console);var f,p,y,g,m,h=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},b=!1;function k(e){b=e}function w(e,n,t){var r=t.value;t.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=f?C(r):r;return t.apply(this,e)}}function C(e){return function(){return _(e,this,arguments)}}function _(e,n,t){try{return e.apply(n,t)}catch(e){if(S(d.error,e),f)try{f(e)}catch(e){S(d.error,e)}}}function S(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];b&&v.apply(void 0,h([e,"[MONITOR]"],n,!1))}function O(e,n,t){var r,o,i=!t||void 0===t.leading||t.leading,a=!t||void 0===t.trailing||t.trailing,c=!1;return{throttled:function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];c?r=t:(i?e.apply(void 0,t):r=t,c=!0,o=setTimeout(function(){a&&r&&e.apply(void 0,r),c=!1,r=void 0},n))},cancel:function(){clearTimeout(o),c=!1,r=void 0}}}function E(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.forEach(function(n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}),e}function x(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,x)}function T(e){return 0!==e&&100*Math.random()<=e}function A(){}function L(e,n,t){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=P(Object.prototype),o=P(Array.prototype),i=P(Object.getPrototypeOf(e)),a=P(e);try{return JSON.stringify(e,n,t)}catch(e){return"<error: unable to serialize object>"}finally{r(),o(),i(),a()}}function P(e){var n=e,t=n.toJSON;return t?(delete n.toJSON,function(){n.toJSON=t}):A}function R(e,n){return-1!==e.indexOf(n)}function I(e){if(Array.from)return Array.from(e);var n=[];if(e instanceof Set)e.forEach(function(e){return n.push(e)});else for(var t=0;t<e.length;t++)n.push(e[t]);return n}function M(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function D(e){return Object.keys(e).map(function(n){return e[n]})}function B(e){return 0===Object.keys(e).length}function N(e,n){return e.slice(0,n.length)===n}function F(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function U(e,n,t){void 0===t&&(t="");var r=e.charCodeAt(n-1),o=r>=55296&&r<=56319?n+1:n;return e.length<=o?e:"".concat(e.slice(0,o)).concat(t)}function z(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function q(e,n,t){if(void 0===t&&(t=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(n){var t=e.has(n);return t||e.add(n),t}}}var n=[];return{hasAlreadyBeenSeen:function(e){var t=n.indexOf(e)>=0;return t||n.push(e),t}}}()),void 0===n)return e;if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){var r=n.flags||[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.sticky?"y":"",n.unicode?"u":""].join("");return new RegExp(n.source,r)}if(!t.hasAlreadyBeenSeen(n)){if(Array.isArray(n)){for(var o=Array.isArray(e)?e:[],i=0;i<n.length;++i)o[i]=q(o[i],n[i],t);return o}var a="object"===z(e)?e:{};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(a[c]=q(a[c],n[c],t));return a}}function V(e){return q(void 0,e)}function j(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=0,o=n;r<o.length;r++){var i=o[r];null!=i&&(e=q(e,i))}return e}function G(e,n,t,r){var o=new Date;o.setTime(o.getTime()+t);var i="expires=".concat(o.toUTCString()),a=r&&r.crossSite?"none":"strict",c=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"";document.cookie="".concat(e,"=").concat(n,";").concat(i,";path=/;samesite=").concat(a).concat(c).concat(u)}function H(e){return function(e,n){var t=new RegExp("(?:^|;)\\s*".concat(n,"\\s*=\\s*([^;]+)")).exec(e);return t?t[1]:void 0}(document.cookie,e)}function W(e,n){G(e,"",0,n)}function J(e,n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return e.apply(void 0,t)}catch(e){v.error(n,e)}}}function K(){return(new Date).getTime()}function Z(){return K()}function $(){return performance.now()}function X(){return{relative:$(),timeStamp:Z()}}function Y(){return void 0===g&&(g=performance.timing.navigationStart),g}function Q(e){return function(e,n){if(function(){if(void 0!==m)return m;try{var e=new URL("http://test/path");return m="http://test/path"===e.href}catch(e){m=!1}return m}())return void 0!==n?new URL(e,n):new URL(e);if(void 0===n&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var t=document,r=t.createElement("a");if(void 0!==n){var o=(t=document.implementation.createHTMLDocument("")).createElement("base");o.href=n,t.head.appendChild(o),t.body.appendChild(r)}return r.href=e,r}(e,function(e){if(e.origin)return e.origin;var n=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(n)}(window.location)).href}var ee="datadoghq.com",ne={logs:"logs",rum:"rum",sessionReplay:"session-replay"},te={logs:"logs",rum:"rum",sessionReplay:"replay"};function re(e,n,t){var r=e.clientToken,o=function(e,n){var t=e.site,r=void 0===t?ee:t,o=e.internalAnalyticsSubdomain;if(o&&r===ee)return"".concat(o,".").concat(ee);var i=r.split("."),a=i.pop();return"".concat(ne[n],".browser-intake-").concat(i.join("-"),".").concat(a)}(e,n),i="https://".concat(o,"/api/v2/").concat(te[n]),a=e.proxyUrl&&Q(e.proxyUrl);return{build:function(o,c){var u=["sdk_version:".concat("4.30.0"),"api:".concat(o)].concat(t);c&&u.push("retry_count:".concat(c.count),"retry_after:".concat(c.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(u.join(","))),"dd-api-key=".concat(r),"dd-evp-origin-version=".concat(encodeURIComponent("4.30.0")),"dd-evp-origin=browser","dd-request-id=".concat(x())];"rum"===n&&l.push("batch_time=".concat(Z())),e.internalAnalyticsSubdomain&&l.reverse();var s="".concat(i,"?").concat(l.join("&"));return a?"".concat(a,"?ddforward=").concat(encodeURIComponent(s)):s},buildIntakeUrl:function(){return a?"".concat(a,"?ddforward"):i},endpointType:n}}var oe=/[^a-z0-9_:./-]/;function ie(e,n){(n.length>200-e.length-1||oe.test(n))&&v.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var t=n.replace(/,/g,"_");return"".concat(e,":").concat(t)}function ae(e){var n={};return n.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),n.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(n.domain=function(){if(void 0===p){for(var e="dd_site_test_".concat(x()),n=window.location.hostname.split("."),t=n.pop();n.length&&!H(e);)G(e,"test",1e3,{domain:t="".concat(n.pop(),".").concat(t)});W(e,{domain:t}),p=t}return p}()),n}var ce="?";function ue(e){var n=[],t=me(e,"stack"),r=String(e);return t&&N(t,r)&&(t=t.slice(r.length)),t&&t.split("\n").forEach(function(e){var t=function(e){var n=de.exec(e);if(n){var t=n[2]&&0===n[2].indexOf("native"),r=n[2]&&0===n[2].indexOf("eval"),o=ve.exec(n[2]);return r&&o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3]),{args:t?[n[2]]:[],column:n[4]?+n[4]:void 0,func:n[1]||ce,line:n[3]?+n[3]:void 0,url:t?void 0:n[2]}}}(e)||function(e){var n=fe.exec(e);if(n)return{args:[],column:n[3]?+n[3]:void 0,func:ce,line:n[2]?+n[2]:void 0,url:n[1]}}(e)||function(e){var n=pe.exec(e);if(n)return{args:[],column:n[4]?+n[4]:void 0,func:n[1]||ce,line:+n[3],url:n[2]}}(e)||function(e){var n=ye.exec(e);if(n){var t=n[3]&&n[3].indexOf(" > eval")>-1,r=ge.exec(n[3]);return t&&r&&(n[3]=r[1],n[4]=r[2],n[5]=void 0),{args:n[2]?n[2].split(","):[],column:n[5]?+n[5]:void 0,func:n[1]||ce,line:n[4]?+n[4]:void 0,url:n[3]}}}(e);t&&(!t.func&&t.line&&(t.func=ce),n.push(t))}),{message:me(e,"message"),name:me(e,"name"),stack:n}}var le="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",se="(?::(\\d+))",de=new RegExp("^\\s*at (.*?) ?\\(".concat(le).concat(se,"?").concat(se,"?\\)?\\s*$"),"i"),ve=new RegExp("\\((\\S*)".concat(se).concat(se,"\\)")),fe=new RegExp("^\\s*at ?".concat(le).concat(se,"?").concat(se,"??\\s*$"),"i"),pe=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ye=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ge=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function me(e,n){if("object"==typeof e&&e&&n in e){var t=e[n];return"string"==typeof t?t:void 0}}function he(e,n,t){var r=e[n],o=t(r),i=function(){if("function"==typeof o)return o.apply(this,arguments)};return e[n]=i,{stop:function(){e[n]===i?e[n]=r:o=r}}}function be(e,n,t){var r=t.before,o=t.after;return he(e,n,function(e){return function(){var n,t=arguments;return r&&_(r,this,t),"function"==typeof e&&(n=e.apply(this,t)),o&&_(o,this,t),n}})}var ke=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,we="agent",Ce="console",_e="logger",Se="network",Oe="source",Ee="report";function xe(e){var n=Te(e);return e.stack.forEach(function(e){var t="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",o=e.line?":".concat(e.line):"",i=e.line&&e.column?":".concat(e.column):"";n+="\n  at ".concat(t).concat(r," @ ").concat(e.url).concat(o).concat(i)}),n}function Te(e){return"".concat(e.name||"Error",": ").concat(e.message)}function Ae(){var e,n=new Error;if(!n.stack)try{throw n}catch(e){}return _(function(){var t=ue(n);t.stack=t.stack.slice(2),e=xe(t)}),e}function Le(e,n){for(var t=e,r=[];(null==t?void 0:t.cause)instanceof Error&&r.length<10;){var o=ue(t.cause);r.push({message:t.cause.message,source:n,type:null==o?void 0:o.name,stack:o&&xe(o)}),t=t.cause}return r.length?r:void 0}var Pe=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(n){return e!==n}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},e}();function Re(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=new Pe(function(){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}});return t}function Ie(e,n){var t,r=window;return r.Zone&&"function"==typeof r.Zone.__symbol__&&(t=e[r.Zone.__symbol__(n)]),t||(t=e[n]),t}function Me(e,n){var t=window.__ddBrowserSdkExtensionCallback;t&&t({type:e,payload:n})}var De,Be=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Ne=["ddog-gov.com"],Fe={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function Ue(e,n){S(d.debug,e,n),qe(E({type:"log",message:e,status:"debug"},n))}function ze(e){qe(E({type:"log",status:"error"},function(e){if(e instanceof Error){var n=ue(e);return{error:{kind:n.name,stack:xe(Ve(n))},message:n.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(L(e))}}(e)))}function qe(e){De&&Fe.sentEventCount<Fe.maxEventsPerPage&&(Fe.sentEventCount+=1,De(e))}function Ve(e){return e.stack=e.stack.filter(function(e){return!e.url||Be.some(function(n){return N(e.url,n)})}),e}function je(e,n,t,r){return Ge(e,[n],t,r)}function Ge(e,n,t,r){var o=void 0===r?{}:r,i=o.once,a=o.capture,c=o.passive,u=C(function(e){i&&d(),function(e){var n=e.type;e.isTrusted||window.jasmine||He.has(n)||(He.add(n),Ue("Untrusted event",{event_type:n}))}(e),t(e)}),l=c?{capture:a,passive:c}:a,s=Ie(e,"addEventListener");function d(){var t=Ie(e,"removeEventListener");n.forEach(function(n){return t.call(e,n,u,l)})}return n.forEach(function(n){return s.call(e,n,u,l)}),{stop:d}}var He=new Set,We={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Je(e,n,t,r,o){return t&&xe({name:e,message:n,stack:[{func:"?",url:t,line:r,column:o}]})}var Ke,Ze=Infinity,$e=function(){function e(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},6e4)}return e.prototype.add=function(e,n){var t=this,r={context:e,startTime:n,endTime:Ze,remove:function(){var e=t.entries.indexOf(r);e>=0&&t.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=Ze);for(var n=0,t=this.entries;n<t.length;n++){var r=t[n];if(r.startTime<=e){if(e<=r.endTime)return r.context;break}}},e.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===Ze&&n.close(e)},e.prototype.findAll=function(e){return void 0===e&&(e=Ze),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(e){return e.context})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var e=$()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),Xe=9e5,Ye=/^([a-z]+)=([a-z0-9-]+)$/,Qe="_dd_s",en=[];function nn(e,n){var t;if(void 0===n&&(n=0),Ke||(Ke=e),e===Ke)if(n>=100)on();else{var r,o=un();if(tn()){if(o.lock)return void rn(e,n);if(r=x(),o.lock=r,cn(o,e.options),(o=un()).lock!==r)return void rn(e,n)}var i=e.process(o);if(tn()&&(o=un()).lock!==r)rn(e,n);else{if(i&&an(i,e.options),tn()&&(!i||!ln(i))){if((o=un()).lock!==r)return void rn(e,n);delete o.lock,cn(o,e.options),i=o}null===(t=e.after)||void 0===t||t.call(e,i||o),on()}}else en.push(e)}function tn(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function rn(e,n){setTimeout(C(function(){nn(e,n+1)}),10)}function on(){Ke=void 0;var e=en.shift();e&&nn(e)}function an(e,n){ln(e)?function(e){G(Qe,"",0,e)}(n):(e.expire=String(K()+Xe),cn(e,n))}function cn(e,n){G(Qe,function(e){return(n=e,Object.keys(n).map(function(e){return[e,n[e]]})).map(function(e){var n=e[1];return"".concat(e[0],"=").concat(n)}).join("&");var n}(e),Xe,n)}function un(){var e=H(Qe),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||Ye.test(e))}(e)&&e.split("&").forEach(function(e){var t=Ye.exec(e);null!==t&&(n[t[1]]=t[2])}),n}function ln(e){return B(e)}function sn(e,n,t,r,o){0===n.transportStatus&&0===n.queuedPayloads.size()&&n.bandwidthMonitor.canHandle(e)?vn(e,n,t,{onSuccess:function(){return fn(0,n,t,r,o)},onFailure:function(){n.queuedPayloads.enqueue(e),dn(n,t,r,o)}}):n.queuedPayloads.enqueue(e)}function dn(e,n,t,r){2===e.transportStatus&&setTimeout(C(function(){vn(e.queuedPayloads.first(),e,n,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,fn(1,e,n,t,r)},onFailure:function(){e.currentBackoffTime=Math.min(6e4,2*e.currentBackoffTime),dn(e,n,t,r)}})}),e.currentBackoffTime)}function vn(e,n,t,r){var o=r.onSuccess,i=r.onFailure;n.bandwidthMonitor.add(e),t(e,function(t){n.bandwidthMonitor.remove(e),function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500)}(t)?(n.transportStatus=n.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:t.status},i()):(n.transportStatus=0,o())})}function fn(e,n,t,r,o){0===e&&n.queuedPayloads.isFull()&&!n.queueFullReported&&(o({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:we,startClocks:X()}),n.queueFullReported=!0);var i=n.queuedPayloads;for(n.queuedPayloads=pn();i.size()>0;)sn(i.dequeue(),n,t,r,o)}function pn(){var e=[];return{bytesCount:0,enqueue:function(n){this.isFull()||(e.push(n),this.bytesCount+=n.bytesCount)},first:function(){return e[0]},dequeue:function(){var n=e.shift();return n&&(this.bytesCount-=n.bytesCount),n},size:function(){return e.length},isFull:function(){return this.bytesCount>=3145728}}}var yn=!1;function gn(e,n,t){var r=new XMLHttpRequest,o=C(function(){r.removeEventListener("loadend",o),null==t||t({status:r.status})});r.open("POST",e,!0),r.addEventListener("loadend",o),r.send(n)}var mn,hn=/[^\u0000-\u007F]/,bn=function(){function e(e,n,t,r,o,i){var a=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=t,this.messageBytesLimit=r,this.flushTimeout=o,this.pageExitObservable=i,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,i.subscribe(function(){return a.flush(a.request.sendOnExit)}),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},e.prototype.flush=function(e){if(void 0===e&&(e=this.request.send),0!==this.bufferMessagesCount){var n=this.pushOnlyBuffer.concat(D(this.upsertBuffer)),t=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,e({data:n.join("\n"),bytesCount:t})}},e.prototype.computeBytesCount=function(e){return hn.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,n){var t=this.process(e),r=t.processedMessage,o=t.messageBytesCount;o>=this.messageBytesLimit?v.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,n),this.isFull()&&this.flush())},e.prototype.process=function(e){var n=L(e);return{processedMessage:n,messageBytesCount:this.computeBytesCount(n)}},e.prototype.push=function(e,n,t){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),void 0!==t?this.upsertBuffer[t]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},e.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var t=this.computeBytesCount(n);this.bufferBytesCount-=t,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout(C(function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},e}();function kn(){var e=F().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(n,t){e.send(JSON.stringify({eventType:n,event:t}))}}}function wn(e){var n;void 0===e&&(e=null===(n=F().location)||void 0===n?void 0:n.hostname);var t=kn();return!!t&&t.getAllowedWebViewHosts().some(function(n){return e===n||(t=e,r=".".concat(n),t.slice(-r.length)===r);var t,r})}function Cn(e,n,t,r,o){var i,a=c(n);function c(n){return new bn(function(e,n,t){var r={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:pn(),queueFullReported:!1},o=function(t,r){return function(e,n,t,r){var o=t.data,i=t.bytesCount,a=t.retry;if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&i<n){var c=e.build("fetch",a);fetch(c,{method:"POST",body:o,keepalive:!0,mode:"cors"}).then(C(function(e){return null==r?void 0:r({status:e.status,type:e.type})}),C(function(){gn(e.build("xhr",a),o,r)}))}else gn(e.build("xhr",a),o,r)}(e,n,t,r)};return{send:function(n){sn(n,r,o,e.endpointType,t)},sendOnExit:function(t){!function(e,n,t){var r=t.data;if(navigator.sendBeacon&&t.bytesCount<n)try{var o=e.build("beacon");if(navigator.sendBeacon(o,r))return}catch(e){!function(e){yn||(yn=!0,ze(e))}(e)}gn(e.build("xhr"),r)}(e,n,t)}}}(n,e.batchBytesLimit,t),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout,r)}return o&&(i=c(o)),{add:function(e,n){void 0===n&&(n=!0),a.add(e),i&&n&&i.add(e)}}}var _n,Sn=new WeakMap;function On(){var e;return mn||(e=new Pe(function(){var n=be(XMLHttpRequest.prototype,"open",{before:En}).stop,t=be(XMLHttpRequest.prototype,"send",{before:function(){xn.call(this,e)}}).stop,r=be(XMLHttpRequest.prototype,"abort",{before:Tn}).stop;return function(){n(),t(),r()}}),mn=e),mn}function En(e,n){Sn.set(this,{state:"open",method:e,url:Q(String(n))})}function xn(e){var n=this,t=Sn.get(this);if(t){var r=t;r.state="start",r.startTime=$(),r.startClocks=X(),r.isAborted=!1,r.xhr=this;var o=!1,i=be(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=C(function(){if(n.removeEventListener("loadend",a),i(),!o){o=!0;var c,u=t;u.state="complete",u.duration=(c=r.startClocks.timeStamp,Z()-c),u.status=n.status,e.notify(E({},u))}});this.addEventListener("loadend",a),e.notify(r)}}function Tn(){var e=Sn.get(this);e&&(e.isAborted=!0)}function An(e,n,t){var r=t&&t.method||"object"==typeof n&&n.method||"GET",o=Q("object"==typeof n&&n.url||n),i={state:"start",init:t,input:n,method:r,startClocks:X(),url:o};return e.notify(i),i}function Ln(e,n,t){var r=function(n){var r=t;r.state="resolve","stack"in n||n instanceof Error?(r.status=0,r.isAborted=n instanceof DOMException&&n.code===DOMException.ABORT_ERR,r.error=n):"status"in n&&(r.response=n,r.responseType=n.type,r.status=n.status,r.isAborted=!1),e.notify(r)};n.then(C(r),C(r))}var Pn={};function Rn(e,n,t){var r,o=e.map(function(e){return function(e){return"string"==typeof e?e:e instanceof Error?Te(ue(e)):L(e,void 0,2)}(e)}).join(" ");if(n===d.error){var i=function(e,n){for(var t=0;t<e.length;t+=1){var r=e[t];if(r instanceof Error)return r}}(e);r=i?xe(ue(i)):void 0,o="console error: ".concat(o)}return{api:n,message:o,stack:r,handlingStack:t}}var In=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},e}();function Mn(){var e={};return{get:function(){return e},add:function(n,t){e[n]=t},remove:function(n){delete e[n]},set:function(n){e=n},getContext:function(){return V(e)},setContext:function(n){e=V(n)},setContextProperty:function(n,t){e[n]=V(t)},removeContextProperty:function(n){delete e[n]},clearContext:function(){e={}}}}function Dn(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||H("datadog-synthetics-injects-rum"))}function Bn(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||H("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}function Nn(e){var n=E({},e);return["id","name","email"].forEach(function(e){e in n&&(n[e]=String(n[e]))}),n}function Fn(e,n,t){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every(function(e){return R(n,e)})?"all"===e?n:(r=e,o=new Set,r.forEach(function(e){return o.add(e)}),I(o)):void v.error("".concat(t,' should be "all" or an array with allowed values "').concat(n.join('", "'),'"'));var r,o}var Un,zn={debug:"debug",error:"error",info:"info",warn:"warn"},qn="http",Vn=Object.keys(zn),jn=function(){function e(e,n,t,r,o){void 0===t&&(t=qn),void 0===r&&(r=zn.debug),void 0===o&&(o={}),this.handleLogStrategy=e,this.handlerType=t,this.level=r,this.contextManager=Mn(),this.contextManager.set(E({},o,n?{logger:{name:n}}:void 0))}return e.prototype.log=function(e,n,t){void 0===t&&(t=zn.info),this.handleLogStrategy({message:e,context:V(n),status:t},this)},e.prototype.debug=function(e,n){this.log(e,n,zn.debug)},e.prototype.info=function(e,n){this.log(e,n,zn.info)},e.prototype.warn=function(e,n){this.log(e,n,zn.warn)},e.prototype.error=function(e,n){this.log(e,j({error:{origin:_e}},n),zn.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(e,n){this.contextManager.add(e,n)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},function(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);i>3&&a&&Object.defineProperty(n,t,a)}([w],e.prototype,"log",null),e}();function Gn(e){return T(e.sessionSampleRate)?"1":"0"}var Hn=((Un={})[zn.debug]=0,Un[zn.info]=1,Un[zn.warn]=2,Un[zn.error]=3,Un);function Wn(e,n,t){var r=t.getHandler(),o=Array.isArray(r)?r:[r];return Hn[e]>=Hn[t.getLevel()]&&R(o,n)}var Jn,Kn=!1;function Zn(e){var n,t=window;if(Dn()){var r=o(t.DD_RUM_SYNTHETICS);return r||Kn||(Kn=!0,Ue("Logs sent before RUM is injected by the synthetics worker",{testId:(n=window._DATADOG_SYNTHETICS_PUBLIC_ID||H("datadog-synthetics-public-id"),"string"==typeof n?n:void 0),resultId:Bn()})),r}return o(t.DD_RUM);function o(n){if(n&&n.getInternalContext)return n.getInternalContext(e)}}var $n,Xn=((Jn={})[d.log]=zn.info,Jn[d.debug]=zn.debug,Jn[d.info]=zn.info,Jn[d.warn]=zn.warn,Jn[d.error]=zn.error,Jn),Yn=(($n={})[We.cspViolation]=zn.error,$n[We.intervention]=zn.error,$n[We.deprecation]=zn.warn,$n);function Qn(e,n){return e.length>n.requestErrorResponseLengthLimit?"".concat(e.substring(0,n.requestErrorResponseLengthLimit),"..."):e}function et(e){return"xhr"===e?"XHR":"Fetch"}var nt,tt,rt=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,n){var t=this.callbacks[e];t&&t.forEach(function(e){return e(n)})},e.prototype.subscribe=function(e,n){var t=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){t.callbacks[e]=t.callbacks[e].filter(function(e){return n!==e})}}},e}(),ot=function(e){var n,t,r=!1,o=Mn(),i=Mn(),a={},c=function(){},u=new In,l=function(e,n,t,r){void 0===t&&(t=V(g())),void 0===r&&(r=Z()),u.add(function(){return l(e,n,t,r)})},s=function(){},p=new jn(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,e)});function g(){return{view:{referrer:document.referrer,url:window.location.href},context:o.getContext(),user:i.getContext()}}return n={logger:p,init:C(function(e){var n;if(wn()&&(e=function(e){return E({},e,{clientToken:"empty"})}(e)),function(e){return!r||(e.silentMultipleInit||v.error("DD_LOGS is already initialized."),!1)}(e)){var t=function(e){var n=function(e){var n,t,r;if(e&&e.clientToken){var o=null!==(n=e.sessionSampleRate)&&void 0!==n?n:e.sampleRate;if(void 0===o||M(o))if(void 0===e.telemetrySampleRate||M(e.telemetrySampleRate)){var i;if(void 0===e.telemetryConfigurationSampleRate||M(e.telemetryConfigurationSampleRate))return i=e.enableExperimentalFeatures,Array.isArray(i)&&(y||(y=new Set(i)),i.filter(function(e){return"string"==typeof e}).forEach(function(e){R(e,"-")&&v.warn("please use snake case for '".concat(e,"'")),y.add(e)})),E({beforeSend:e.beforeSend&&J(e.beforeSend,"beforeSend threw an error:"),cookieOptions:ae(e),sessionSampleRate:null!=o?o:100,telemetrySampleRate:null!==(t=e.telemetrySampleRate)&&void 0!==t?t:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},function(e){var n=function(e){var n=e.env,t=e.service,r=e.version,o=e.datacenter,i=[];return n&&i.push(ie("env",n)),t&&i.push(ie("service",t)),r&&i.push(ie("version",r)),o&&i.push(ie("datacenter",o)),i}(e),t=function(e,n){return{logsEndpointBuilder:re(e,"logs",n),rumEndpointBuilder:re(e,"rum",n),sessionReplayEndpointBuilder:re(e,"sessionReplay",n)}}(e,n),r=D(t).map(function(e){return e.buildIntakeUrl()}),o=function(e,n,t){if(e.replica){var r=E({},e,{site:ee,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:re(r,"logs",t),rumEndpointBuilder:re(r,"rum",t)};return n.push.apply(n,D(o).map(function(e){return e.buildIntakeUrl()})),E({applicationId:e.replica.applicationId},o)}}(e,r,n);return E({isIntakeUrl:function(e){return r.some(function(n){return 0===e.indexOf(n)})},replica:o,site:e.site||ee},t)}(e));v.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else v.error("Telemetry Sample Rate should be a number between 0 and 100");else v.error("Session Sample Rate should be a number between 0 and 100")}else v.error("Client Token is not configured, we will not send any data.")}(e),t=Fn(e.forwardConsoleLogs,D(d),"Forward Console Logs"),r=Fn(e.forwardReports,D(We),"Forward Reports");if(n&&t&&r)return e.forwardErrorsToLogs&&!R(t,d.error)&&t.push(d.error),E({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:t,forwardReports:r,requestErrorResponseLengthLimit:32768},n)}(e);t&&(n=function(e,n,t,r){var o=new rt;o.subscribe(1,function(e){return Me("logs",e)});var i,a=function(e){return o.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:we},origin:we,status:zn.error}})},c=i=new Pe(function(){var e=je(document,"visibilitychange",function(){"hidden"===document.visibilityState&&i.notify({reason:"visibility_hidden"})},{capture:!0}).stop,n=je(window,"beforeunload",function(){i.notify({reason:"before_unload"})}).stop;return function(){e(),n()}}),u=function(e,n,t){var r,o=function(e,n){var t,r=new Pe;return Fe.telemetryEnabled=T(n.telemetrySampleRate),Fe.telemetryConfigurationEnabled=Fe.telemetryEnabled&&T(n.telemetryConfigurationSampleRate),De=function(e){if(!R(Ne,n.site)&&Fe.telemetryEnabled){var o=(i=e,j({type:"telemetry",date:Z(),service:"browser-logs-sdk",version:"4.30.0",source:"browser",_dd:{format_version:2},telemetry:i,experimental_features:I(y||new Set)},void 0!==t?t():{}));r.notify(o),Me("telemetry",o)}var i},f=ze,E(Fe,{maxEventsPerPage:n.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){t=e},observable:r}}(0,e);if(wn()){var i=kn();o.observable.subscribe(function(e){return i.send("internal_telemetry",e)})}else{var a=Cn(e,e.rumEndpointBuilder,n,t,null===(r=e.replica)||void 0===r?void 0:r.rumEndpointBuilder);o.observable.subscribe(function(n){return a.add(n,function(e){return"datad0g.com"===e.site}(e))})}return o}(n,a,c);u.setContextProvider(function(){var e,n,t,r,o,i;return{application:{id:null===(e=Zn())||void 0===e?void 0:e.application_id},session:{id:null===(n=p.findTrackedSession())||void 0===n?void 0:n.id},view:{id:null===(r=null===(t=Zn())||void 0===t?void 0:t.view)||void 0===r?void 0:r.id},action:{id:null===(i=null===(o=Zn())||void 0===o?void 0:o.user_action)||void 0===i?void 0:i.id}}}),function(e,n){if(!e.forwardErrorsToLogs)return{stop:A};var t;function r(t,r){function o(e){n.notify(0,{rawLogsEvent:{message:"".concat(et(t)," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{origin:Se,stack:e||"Failed to load"},http:{method:r.method,status_code:r.status,url:r.url},status:zn.error,origin:Se}})}e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||("xhr"in r?function(e,n,t){t("string"==typeof e.response?Qn(e.response,n):e.response)}(r.xhr,e,o):r.response?function(e,n,t){window.TextDecoder?e.body?function(e,n,t){!function(e,n,t){var r=e.getReader(),o=[],i=0;function a(){var e,a;if(r.cancel().catch(A),t.collectStreamBody){var c;if(1===o.length)c=o[0];else{c=new Uint8Array(i);var u=0;o.forEach(function(e){c.set(e,u),u+=e.length})}e=c.slice(0,t.bytesLimit),a=c.length>t.bytesLimit}n(void 0,e,a)}!function e(){r.read().then(C(function(n){n.done?a():(t.collectStreamBody&&o.push(n.value),(i+=n.value.length)>t.bytesLimit?a():e())}),C(function(e){return n(e)}))}()}(e,function(e,n,r){if(e)t(e);else{var o=(new TextDecoder).decode(n);r&&(o+="..."),t(void 0,o)}},{bytesLimit:n,collectStreamBody:!0})}(e.clone().body,n.requestErrorResponseLengthLimit,function(e,n){t(e?"Unable to retrieve response: ".concat(e):n)}):t():e.clone().text().then(C(function(e){return t(Qn(e,n))}),C(function(e){return t("Unable to retrieve response: ".concat(e))}))}(r.response,e,o):r.error&&function(e,n,t){t(Qn(xe(ue(e)),n))}(r.error,e,o))}On().subscribe(function(e){"complete"===e.state&&r("xhr",e)}),(_n||(t=new Pe(function(){if(window.fetch)return he(window,"fetch",function(e){return function(n,r){var o,i=_(An,null,[t,n,r]);return i?(o=e.call(this,i.input,i.init),_(Ln,null,[t,o,i])):o=e.call(this,n,r),o}}).stop}),_n=t),_n).subscribe(function(e){"resolve"===e.state&&r("fetch",e)})}(n,o),function(e,n){if(!e.forwardErrorsToLogs)return{stop:A};var t,r,o=new Pe;t=o,r=function(e,n){t.notify(function(e){var n=e.stackTrace,t=e.originalError,r=e.handlingStack,o=e.startClocks,i=e.nonErrorPrefix,a=e.source,c=e.handling;return n&&(void 0!==n.message||t instanceof Error)?{startClocks:o,source:a,handling:c,originalError:t,message:n.message||"Empty message",stack:xe(n),handlingStack:r,type:n.name,causes:Le(t,a)}:{startClocks:o,source:a,handling:c,originalError:t,message:"".concat(i," ").concat(L(t)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:n&&n.name}}({stackTrace:e,originalError:n,startClocks:X(),nonErrorPrefix:"Uncaught",source:Oe,handling:"unhandled"}))},function(e){be(window,"onerror",{before:function(n,t,r,o,i){var a;if(i)a=ue(i),e(a,i);else{var c,u={url:t,column:o,line:r},l=n;if("[object String]"==={}.toString.call(n)){var s=ke.exec(l);s&&(c=s[1],l=s[2])}e(a={name:c,message:"string"==typeof l?l:void 0,stack:[u]},n)}}})}(r),function(e){be(window,"onunhandledrejection",{before:function(n){var t=n.reason||"Empty reason",r=ue(t);e(r,t)}})}(r),o.subscribe(function(e){n.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{kind:e.type,origin:Oe,stack:e.stack},origin:Oe,status:zn.error}})})}(n,o),function(e,n){var t,r;(t=e.forwardConsoleLogs,r=t.map(function(e){return Pn[e]||(Pn[e]=function(e){var n=new Pe(function(){var t=console[e];return console[e]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.apply(console,r);var i=Ae();_(function(){n.notify(Rn(r,e,i))})},function(){console[e]=t}});return n}(e)),Pn[e]}),Re.apply(void 0,r)).subscribe(function(e){n.notify(0,{rawLogsEvent:{date:Z(),message:e.message,origin:Ce,error:e.api===d.error?{origin:Ce,stack:e.stack}:void 0,status:Xn[e.api]}})})}(n,o),function(e,n){(function(e){var n,t=[];R(e,We.cspViolation)&&t.push(n=new Pe(function(){var e=C(function(e){n.notify(function(e){var n=We.cspViolation,t="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:We.cspViolation,subtype:e.effectiveDirective,message:"".concat(n,": ").concat(t),stack:Je(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(U(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}(e))});return je(document,"securitypolicyviolation",e).stop}));var r=e.filter(function(e){return e!==We.cspViolation});return r.length&&t.push(function(e){var n=new Pe(function(){if(window.ReportingObserver){var t=C(function(e){return e.forEach(function(e){n.notify(function(e){var n=e.type,t=e.body;return{type:n,subtype:t.id,message:"".concat(n,": ").concat(t.message),stack:Je(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)}}(e))})}),r=new window.ReportingObserver(t,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}});return n}(r)),Re.apply(void 0,t)})(e.forwardReports).subscribe(function(e){var t,r=e.message,o=Yn[e.type];o===zn.error?t={kind:e.subtype,origin:Ee,stack:e.stack}:e.stack&&(r+=" Found in ".concat(function(e){var n;return null===(n=/@ (.+)/.exec(e))||void 0===n?void 0:n[1]}(e.stack))),n.notify(0,{rawLogsEvent:{date:Z(),message:r,origin:Ee,error:t,status:o}})})}(n,o);var l,s=function(e){return{handleLog:function(n,t,r,o){var i=n.context;Wn(n.status,"console",t)&&v(n.status,n.message,j(t.getContext(),i)),e.notify(0,{rawLogsEvent:{date:o||Z(),message:n.message,status:n.status,origin:_e},messageContext:i,savedCommonContext:r,logger:t})}}}(o).handleLog,p=!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var n="dd_cookie_test_".concat(x()),t="test";G(n,t,6e4,e);var r=H(n)===t;return W(n,e),r}catch(e){return v.error(e),!1}}(n.cookieOptions)||wn()||Dn()?function(e){var n="1"===Gn(e)?{}:void 0;return{findTrackedSession:function(){return n}}}(n):function(e){var n=function(n,t,r){!function(e){var n=H(Qe),t=H("_dd"),r=H("_dd_r"),o=H("_dd_l");if(!n){var i={};t&&(i.id=t),o&&/^[01]$/.test(o)&&(i.logs=o),r&&/^[012]$/.test(r)&&(i.rum=r),an(i,e)}}(n);var o,i,a=function(n,t,r){var o,i=new Pe,a=new Pe,c=setInterval(C(function(){nn({options:n,process:function(e){return d(e)?void 0:{}},after:l})}),1e3),u=d(o=un())?o:{};function l(e){return d(e)||(e={}),s()&&(function(e){return u.id!==e.id||u[t]!==e[t]}(e)?(u={},a.notify()):u=e),e}function s(){return void 0!==u[t]}function d(e){return(void 0===e.created||K()-Number(e.created)<144e5)&&(void 0===e.expire||K()<Number(e.expire))}return{expandOrRenewSession:O(C(function(){var r;nn({options:n,process:function(n){var o=l(n);return r=function(n){var r=function(e,n){var t=function(e){return"0"===e||"1"===e}(n)?n:Gn(e);return{trackingType:t,isTracked:"1"===t}}(e,n[t]),o=r.isTracked;return n[t]=r.trackingType,o&&!n.id&&(n.id=x(),n.created=String(K())),o}(o),o},after:function(e){r&&!s()&&function(e){u=e,i.notify()}(e),u=e}})}),1e3).throttled,expandSession:function(){nn({options:n,process:function(e){return s()?l(e):void 0}})},getSession:function(){return u},renewObservable:i,expireObservable:a,stop:function(){clearInterval(c)}}}(n,t),c=new $e(144e5);function u(){return{id:a.getSession().id,trackingType:a.getSession()[t]}}return a.renewObservable.subscribe(function(){c.add(u(),$())}),a.expireObservable.subscribe(function(){c.closeActive($())}),a.expandOrRenewSession(),c.add(u(),[0,Y()][0]),Ge(window,["click","touchstart","keydown","scroll"],function(){return a.expandOrRenewSession()},{capture:!0,passive:!0}),o=function(){return a.expandSession()},i=C(function(){"visible"===document.visibilityState&&o()}),je(document,"visibilitychange",i),setInterval(i,6e4),{findActiveSession:function(e){return c.find(e)},renewObservable:a.renewObservable,expireObservable:a.expireObservable}}(e.cookieOptions,"logs");return{findTrackedSession:function(e){var t=n.findActiveSession(e);return t&&"1"===t.trackingType?{id:t.id}:void 0}}}(n);return function(e,n,t,r,o,i){var a=Vn.concat(["custom"]),c={};a.forEach(function(e){var t,r,o,a,u;c[e]=(t=e,r=n.eventRateLimiterThreshold,o=i,a=0,u=!1,{isLimitReached:function(){if(0===a&&setTimeout(function(){a=0},6e4),(a+=1)<=r||u)return u=!1,!1;if(a===r+1){u=!0;try{o({message:"Reached max number of ".concat(t,"s by minute: ").concat(r),source:we,startClocks:X()})}finally{u=!1}}return!0}})}),t.subscribe(0,function(i){var a,u,l,s=i.rawLogsEvent,d=i.messageContext,v=void 0===d?void 0:d,f=i.savedCommonContext,p=void 0===f?void 0:f,y=i.logger,g=void 0===y?o:y,m=s.date-Y(),h=e.findTrackedSession(m);if(h){var b=p||r(),k=j({service:n.service,session_id:h.id,usr:B(b.user)?void 0:b.user,view:b.view},b.context,Zn(m),s,g.getContext(),v);!Wn(s.status,qn,g)||!1===(null===(a=n.beforeSend)||void 0===a?void 0:a.call(n,k))||(null===(u=k.error)||void 0===u?void 0:u.origin)!==we&&(null!==(l=c[k.status])&&void 0!==l?l:c.custom).isLimitReached()||t.notify(1,k)}})}(p,n,o,t,r,a),wn()?function(e){var n=kn();e.subscribe(1,function(e){n.send("log",e)})}(o):function(e,n,t,r){var o,i=Cn(e,e.logsEndpointBuilder,t,r,null===(o=e.replica)||void 0===o?void 0:o.logsEndpointBuilder);n.subscribe(1,function(e){i.add(e)})}(n,o,a,c),function(e){Fe.telemetryConfigurationEnabled&&qe({type:"configuration",configuration:e})}(function(e){var n=function(e){var n;return{session_sample_rate:null!==(n=e.sessionSampleRate)&&void 0!==n?n:e.sampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:void 0!==e.proxyUrl?!!e.proxyUrl:void 0,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_resources:e.trackResources,track_long_task:e.trackLongTasks}}(e);return E({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports},n)}(e)),{handleLog:s,getInternalContext:(l=p,{get:function(e){var n=l.findTrackedSession(e);if(n)return{session_id:n.id}}}).get}}(e,t,g,p),l=n.handleLog,c=n.getInternalContext,s=function(){return V(e)},u.drain(),r=!0)}}),getLoggerGlobalContext:C(o.get),getGlobalContext:C(o.getContext),setLoggerGlobalContext:C(o.set),setGlobalContext:C(o.setContext),addLoggerGlobalContext:C(o.add),setGlobalContextProperty:C(o.setContextProperty),removeLoggerGlobalContext:C(o.remove),removeGlobalContextProperty:C(o.removeContextProperty),clearGlobalContext:C(o.clearContext),createLogger:C(function(e,n){return void 0===n&&(n={}),a[e]=new jn(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,e)},e,n.handler,n.level,n.context),a[e]}),getLogger:C(function(e){return a[e]}),getInitConfiguration:C(function(){return s()}),getInternalContext:C(function(e){return c(e)}),setUser:C(function(e){(function(e){var n="object"===z(e);return n||v.error("Unsupported user:",e),n})(e)&&i.setContext(Nn(e))}),getUser:C(i.getContext),setUserProperty:C(function(e,n){var t,r=Nn((t={},t[e]=n,t))[e];i.setContextProperty(e,r)}),removeUserProperty:C(i.removeContextProperty),clearUser:C(i.clearContext)},t=E({version:"4.30.0",onReady:function(e){e()}},n),Object.defineProperty(t,"_setDebug",{get:function(){return k},enumerable:!1}),t}();tt=(nt=F()).DD_LOGS,nt.DD_LOGS=ot,tt&&tt.q&&tt.q.forEach(function(e){return J(e,"onReady callback threw an error:")()});var it,at=/*#__PURE__*/function(){function e(e,n){ot.init({clientToken:n.clientToken,site:"datadoghq.com",forwardErrorsToLogs:!1,sampleRate:100,version:"ga4",service:"analytics-sdk",env:n.environment,useCrossSiteSessionCookie:!0,trackSessionAcrossSubdomains:!0,useSecureSessionCookie:!0,silentMultipleInit:!0}),ot.setLoggerGlobalContext({country:e})}return e.prototype.logError=function(e,n){ot.logger.error(e,n)},e}(),ct="1.37.1",ut={event:i,category:"book an appointment spa"},lt=["bookanappointment.page_view","bookanappointment.next","bookanappointment.back","bookanappointment.create-appointment","bookanappointment.reserveproduct","bookanappointment.change-store"],st="www.gucci.com"===window.location.hostname?{clientToken:"pub06c9294a47138de514fbc6e73bba7b13",environment:"prod"}:{clientToken:"pub06c9294a47138de514fbc6e73bba7b13",environment:"qa"};function dt(e){var n={};if(!e)return n;var t=e.split("/");return 1===t.length&&""===t[0]?n:n=r({item_category:t[0]},t[1]&&{item_category2:t[1]},t[2]&&{item_category3:t[2]},t[3]&&{item_category4:t[3]},t[4]&&{item_category5:t[4]})}function vt(e){var n=window.localStorage.getItem("ga_cartItems");if(n)return JSON.parse(n).map(e)}function ft(e){var n=window.localStorage.getItem("ga_linkData");if(n){var t=JSON.parse(n);return"UNKNOWN"!==(t[e]?t[e].listName:"UNKNOWN")?t[e].listPage:""}}function pt(e,n){var t,o,i,a=void 0===e.brand?{item_brand:"unknown"}:{item_brand:e.brand},c=n.exchangeRate,u=e.price?c.convert(parseFloat(e.price)).toFixed(2):"",l=c.getCurrency();return r({item_id:e.id,item_name:e.name},a,{currency:l,index:e.position},dt(e.category),{item_list_id:null!=(t=ft(e.id))?t:"",item_list_name:e.list,item_variant:e.variant,price:u,local_price:null!=(o=e.price)?o:"",quantity:e.quantity,monogram:null!=(i=e.monogram)&&i})}function yt(e,n){var t;return void 0===n?{}:((t={})[e]="boolean"==typeof n?""+n:"",t)}function gt(e,n){var t,o,i,a,c,u=void 0===e.item_brand?{item_brand:"unknown"}:{item_brand:e.item_brand},l=n.exchangeRate,s=e.price?l.convert(parseFloat(e.price)).toFixed(2):"",d=l.getCurrency();return r({item_id:e.item_id,item_name:e.item_name},u,{currency:d,index:e.index},dt(null!=(t=e.category)?t:function(e){if(!e)return"";if(!e.includes("/pr/"))return e;var n="";try{for(var t=e.substring(e.indexOf("/pr/")+3,e.length),r=t.substring(0,t.indexOf("-p-")),o=r.substring(0,r.lastIndexOf("/")),i=1;i<o.length;i++)RegExp("-|/").test(o[i-1])&&!RegExp("[0-9]").test(o[i])?n+=o[i].toUpperCase():n+=o[i]}catch(e){console.error("analyticsSdk: error parsing url to retrieve product category")}return n}(e.item_category)),{item_list_id:null!=(o=ft(e.item_id))?o:"",item_list_name:null!=(i=e.item_list_name)?i:e.item_list,item_variant:e.item_variant,price:s,local_price:null!=(a=e.price)?a:"",quantity:e.quantity},yt("hasStockInStore",e.hasStockInStore),yt("hasStockEcommerce",e.hasStockEcommerce),yt("hasContactUs",e.hasContactUs),yt("hasEmbossing",e.hasEmbossing),void 0===(c=e["Stock Pdp Cta"])?{}:{"Stock Pdp Cta":Object.values(it).includes(c)?c:it.UNKNOWN_CTA},e.recoSourceItem?{recoSourceItem:e.recoSourceItem}:{},e.crossSellPageSource?{crossSellPageSource:e.crossSellPageSource}:{},e.crossSellStrategy?{crossSellStrategy:e.crossSellStrategy}:{},void 0!==e.outOfStock&&{outOfStock:e.outOfStock})}!function(e){e.NO_CTA="no_cta",e.ADD_TO_CART="addToCart",e.FIND_IN_STORE="findInStore",e.UNKNOWN_CTA=""}(it||(it={}));var mt=["ecommerce","checkout","shopping bag","flyout bag","pdp",""],ht=["cart page","cart","flyout","cart overlay","back_to_search","enter_manually",""];function bt(e){return mt.includes(e)}function kt(e){return ht.includes(e)}var wt="lastPlacedOrderNumber",Ct=function(){return window.sessionStorage.getItem(wt)},_t={MAX_LENGTH:20,JP_KR_LENGTH:10,COUNTRIES:["jp","kr"]},St={event:i};function Ot(e){var n,t,o,i;return r({},St,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(o=e.event)?void 0:o.urlDestination,ctaLabel:null==e||null==(i=e.event)?void 0:i.ctaLabel})}var Et=/*#__PURE__*/function(){function e(e){this.rate=void 0,this.rate=e}var n=e.prototype;return n.convert=function(e){return e/this.rate},n.getCurrency=function(){return"EUR"},e}(),xt=new(/*#__PURE__*/function(){function e(){}return e.prototype.byCountry=function(e){var n;return null!=(n={ae:new Et(4.1),au:new Et(1.61),ca:new Et(1.46),ch:new Et(1),cz:new Et(23.94),dk:new Et(7.45),hk:new Et(8.72),hu:new Et(384),jp:new Et(148.5),kr:new Et(1408.52),mx:new Et(19.63),no:new Et(11.16),nz:new Et(1.77),sa:new Et(4.19),se:new Et(11.3),sg:new Et(1.47),th:new Et(37.44),tr:new Et(30.69),uk:new Et(.88),us:new Et(1.12),za:new Et(20.56)}[e])?n:Tt},e}()),Tt=new Et(1),At=["funhouseFooter.displayFooter","funhouseNewsletter.submit","funhouseStoreLocator.submit","funhouseFooterIcon.clickGucciEquilibrium","funhouseFooterIcon.clickGucciGarden","funhouseFooterIcon.clickGucciOsteria","funhouseFooterIcon.clickAppleAppStore","funhouseFooterIcon.clickGooglePlay","funhouseFooterIcon.clickGucciApp","funhouseFooterLink.click","funhouseLanguageSelector.click","funhouseCountrySelector.click","funhouseGeolocationModal.open","funhouseGeolocationModal.changeCountry"],Lt={ae:"AED",au:"AUD",ca:"CAD",ch:"CHF",cz:"CZK",dk:"DKK",hk:"HKD",hu:"HUF",jp:"JPY",kr:"KRW",mx:"MXN",no:"NOK",nz:"NZD",sa:"SAR",se:"SEK",sg:"SGD",th:"THB",tr:"TRY",uk:"GBP",us:"USD",za:"ZAR"};function Pt(e){var n;return null!=(n=Lt[e])?n:"EUR"}var Rt=["funhouseMiniCart.clickOnShoppingBag","funhouseMiniCart.proceedToCheckout","funhouseMiniCart.closeCart","funhouseMyAccount.openFlyout","funhouseMyAccount.flyoutItemClick","funhouseLogo.click","funhouseSearch.click","funhouseContactUs.click"],It=["funhouseMiniCart.emptyCart","funhouseMiniCart.notEmptyCart"],Mt={event:i};function Dt(e){var n,t;return r({},Mt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label})}function Bt(e){var n,t,o;return r({},Dt(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination,ctaLabel:null==e||null==(t=e.event)?void 0:t.ctaLabel,indexCarousel:(null==e||null==(o=e.event)?void 0:o.indexCarousel)||0})}function Nt(e){var n;return r({},Dt(e),{listOfLabels:null==e||null==(n=e.event)?void 0:n.listOfLabels})}var Ft=["emailSubscription.subscribe","emailSubscription.opt","myAccount.signIn","myAccount.signinErrors","myAccount.saveSettings","myAccount.saveSettingsError","myAccount.deleteAccount","myAccount.deleteAccountError","myAccount.createAccount","myAccount.createAccountErrors","myAccount.orderConfirmation","myAccount.checkout.skipLogin","myAccount.changeEmailFlowCreateAccount","myAccount.changeEmailAtValidation","gaTech","access.impression","access.click","returnFlow.delivery","returnFlow.collectInStore","returnFlow.vpv","orderHistory.ordersPage"],Ut={event:i};function zt(e){var n,t,o,i;return r({},Ut,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label},null!=(null==e||null==(o=e.event)?void 0:o.totalCarousel)&&{totalCarousel:null==e||null==(i=e.event)?void 0:i.totalCarousel})}function qt(e){var n,t,o,i,a;return r({},zt(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination},null!=(null==e||null==(t=e.event)?void 0:t.ctaLabel)&&{ctaLabel:null==e||null==(o=e.event)?void 0:o.ctaLabel},null!=(null==e||null==(i=e.event)?void 0:i.indexCarousel)&&{indexCarousel:null==e||null==(a=e.event)?void 0:a.indexCarousel})}function Vt(e){var n,t;return r({},null!=(null==e||null==(n=e.event)?void 0:n.indexCarouselDestination)&&{indexCarouselDestination:null==e||null==(t=e.event)?void 0:t.indexCarouselDestination})}function jt(e){var n;return{direction:null==e||null==(n=e.event)?void 0:n.direction}}function Gt(e,n,t){var o=u(e,n),i=e.event.extraData,a=r({},o,void 0!==i&&void 0!==i.recoSourceHit&&{recoSourceHit:i.recoSourceHit},void 0!==i&&void 0!==i.crossSellStrategy&&{crossSellStrategy:i.crossSellStrategy});t.push(a)}var Ht="product page",Wt={event:i};function Jt(e){var n,t,o,i,a,c;return r({},Wt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(o=e.event)?void 0:o.urlDestination,ctaLabel:null==e||null==(i=e.event)?void 0:i.ctaLabel,indexRouting:null==e||null==(a=e.event)?void 0:a.indexRouting,totalRouting:null==e||null==(c=e.event)?void 0:c.totalRouting})}var Kt="site_search",Zt="view_search_results";function $t(e,n,t,r){var o,i,a,c,u,l,s,d={event:null!=r?r:Kt,searchTerm:null!=(o=null==t||null==(i=t.event)?void 0:i.search_query)?o:null==t||null==(a=t.event)?void 0:a.query,searchCat:null!=(c=null==t||null==(u=t.event)?void 0:u.search_category)?c:null==t||null==(l=t.event)?void 0:l.label,searchOrigin:null==t||null==(s=t.event)?void 0:s.category,country:n.country};e.push(d)}function Xt(e,n,t){var o,a,c,u,l,s,d,v,f,p,y=r({event:i,action:null==n||null==(o=n.event)?void 0:o.action},(null==n||null==(a=n.event)?void 0:a.label)&&{label:null==n||null==(c=n.event)?void 0:c.label},(null==n||null==(u=n.event)?void 0:u.search_query)&&{search_query:null==n||null==(l=n.event)?void 0:l.search_query},(null==n||null==(s=n.event)?void 0:s.filter_name)&&{filter_name:null==n||null==(d=n.event)?void 0:d.filter_name},(null==n||null==(v=n.event)?void 0:v.errorMessage)&&{errorMessage:null==n||null==(f=n.event)?void 0:f.errorMessage},{category:null==n||null==(p=n.event)?void 0:p.category,country:t.country});e.push(y)}function Yt(e,n,t){var o,c,u,l,s=r({},(null==n||null==(o=n.event)?void 0:o.subject)&&{emailSubject:null==n||null==(c=n.event)?void 0:c.subject}),d=new a(i,"client services",null==n||null==(u=n.event)?void 0:u.action,null==n||null==(l=n.event)?void 0:l.label,t.country,s);e.push(d)}function Qt(e,n,t){var o,c,u,l,s,d,v,f,p,y,g,m=r({},(null==n||null==(o=n.event)?void 0:o.clientAdvisorId)&&{clientAdvisorId:null==n||null==(c=n.event)?void 0:c.clientAdvisorId},(null==n||null==(u=n.event)?void 0:u.clientAdvisorType)&&{clientAdvisorType:null==n||null==(l=n.event)?void 0:l.clientAdvisorType},(null==n||null==(s=n.event)?void 0:s.assignedStores)&&{assignedStores:null==n||null==(d=n.event)?void 0:d.assignedStores},(null==n||null==(v=n.event)?void 0:v.storeId)&&{storeId:null==n||null==(f=n.event)?void 0:f.storeId},(null==n||null==(p=n.event)?void 0:p.clientAdvisorStoreId)&&{clientAdvisorStoreId:null==n||null==(y=n.event)?void 0:y.clientAdvisorStoreId}),h=new a(i,"client-advisor",null==n||null==(g=n.event)?void 0:g.action,void 0,t.country,m);e.push(h)}var er=["funhouseNavigation.back","funhouseNavigation.clickNavigationBottonLink"],nr=["funhouseNavigation.itemClick","funhouseNavigation.close","funhouseNavigation.open"],tr=["gucci.com","guccidigital.com","regiongold.com","localhost"];function rr(e){var n=tr.some(function(n){return e.includes(n)});if(""===e||!n)return"referral page";var t=new URL(e).pathname.slice(1).replace(/\/$/,"").split("/");switch(!0){case 2===t.length:return"home";case"st"===t[2]&&"newsearchpage"===t[3]:return"search";case"ca"===t[2]:return"category";case"co"===t[2]:return"collection";case"pr"===t[2]:return"product page";case"st"===t[2]&&"capsule"===t[3]:return"capsule";case"lo"===t[2]&&t[t.length-1].indexOf("-c-")>=0:return"looks grid";case"lo"===t[2]&&t[t.length-1].indexOf("-p-")>=0:return"look page";case"cart"===t[2]:return"shopping bag";case"checkout"===t[2]&&"orderConfirmation"===t[3]:return"order confirmation";case"store"===t[2]:return"store";case"wishlist"===t[2]&&"saved-items"===t[3]:return"saved items";default:return"other page"}}var or="search",ir=function(e,n){return function(t){var r={event:i,category:or,action:rr(t.event.referrer),label:t.event.query,searchResultsCount:t.event.hits,country:n.country};e.push(r)}},ar=function(e,n){return function(t){e.push({event:i,category:or,action:"click on links on searchbox",label:t.event.label,country:n.country})}},cr=function(e,n){return function(t){e.push({event:Kt,searchTerm:t.event.searchTerm,searchCat:t.event.searchCat,searchOrigin:"search engine",country:n.country})}},ur=function(e,n){return function(t){e.push({event:Zt,searchTerm:t.event.searchTerm,searchCat:t.event.searchCat,searchOrigin:"search engine",searchResultsCount:t.event.searchResultsCount,country:n.country})}},lr="fitpredictor",sr=function(e,n){return function(t){e.push({event:i,category:lr,action:"click on widget",country:n.country,label:t.event.styleCode})}},dr=function(e,n){return function(t){e.push({event:i,category:lr,action:t.event.productSupported?"product supported":"product not supported",country:n.country,label:t.event.styleCode})}},vr=function(e,n){return function(t){e.push({event:i,category:lr,action:"product profiled",country:n.country,label:t.event.styleCode})}},fr=function(e,n){return function(t){e.push({event:i,category:lr,action:"size predicted",country:n.country,label:t.event.styleCode+" ("+t.event.size+")"})}},pr=["funhouseTickerTape.display","funhouseTickerTape.displayMessage","funhouseTickerTape.interaction","funhouseTickerTape.clickOnItem"],yr="product grid",gr=["optimizely.experiment"],mr={event:i};function hr(e){var n,t;return r({},mr,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label})}function br(e){var n,t;return r({},hr(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination,ctaLabel:null==e||null==(t=e.event)?void 0:t.ctaLabel})}var kr=["contactUsDrawer.clientServices"],wr="filter",Cr="search-result-page",_r={event:i};function Sr(e){var n,t,o;return r({},_r,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(o=e.event)?void 0:o.urlDestination})}var Or={event:i};function Er(e){var n,t,o,i;return r({},Or,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,mosaicName:null==e||null==(o=e.event)?void 0:o.mosaicName,mosaicTilesNumber:null==e||null==(i=e.event)?void 0:i.mosaicTilesNumber})}var xr=["funhousePromoBanner.display"],Tr=new at(Ir(),st),Ar=Lr(Ir());function Lr(e){var u=xt.byCountry(e),d=Pt(e),v=new n({country:e,currency:d,exchangeRate:u}),f=new s(t.dataLayer);return new Map([].concat(Array.from(function(e,n){return new Map([].concat(Array.from(new Map(lt.map(function(t){return[t,function(t){return function(e,n,t){var o,i,a,c,u,l=r({},ut,{action:null==n||null==(o=n.event)?void 0:o.action,label:null==n||null==(i=n.event)?void 0:i.label,storeId:null==n||null==(a=n.event)?void 0:a.storeId,storeName:null==n||null==(c=n.event)?void 0:c.storeName},n&&n.event&&n.event.sku&&{sku:null==n||null==(u=n.event)?void 0:u.sku},{country:t.country});e.push(l)}(e,t,n)}]}))),[["bookanappointment.submitted",function(t){return function(e,n,t){var o,i,a,c,u,l,s=r({},ut,{action:"submitted",label:null==n||null==(o=n.event)?void 0:o.label,storeId:null==n||null==(i=n.event)?void 0:i.storeId,storeName:null==n||null==(a=n.event)?void 0:a.storeName,storeSlug:null==n||null==(c=n.event)?void 0:c.storeSlug},n&&n.event&&n.event.sku&&{sku:null==n||null==(u=n.event)?void 0:u.sku},{bookanappointment_code:null==n||null==(l=n.event)?void 0:l.bookanappointment_code,country:t.country});e.push(s)}(e,t,n)}],["bookanappointment.error",function(t){return function(e,n,t){var o,i,a,c,u,l=r({},ut,{action:"error",label:null==n||null==(o=n.event)?void 0:o.label,message:null==n||null==(i=n.event)?void 0:i.message,storeId:null==n||null==(a=n.event)?void 0:a.storeId,storeName:null==n||null==(c=n.event)?void 0:c.storeName},n&&n.event&&n.event.sku&&{sku:null==n||null==(u=n.event)?void 0:u.sku},{country:t.country});e.push(l)}(e,t,n)}]]))}(f,v).entries()),Array.from(function(e,n){var o=function(t){return l(e,t,n)};return new Map([["view_item_list",function(t){return function(e,n,t){for(var o=t.country,i=n.event.language,a=[].concat(n.event.items),c=_t.COUNTRIES.includes(o.toLowerCase())?_t.JP_KR_LENGTH:_t.MAX_LENGTH,u=n.event.item_list_id.replace("/"+o+"/"+i,"");a.length;){var l,s,d=a.splice(0,c),v={event:"view_item_list",category:"ecommerce",action:"productImpression",country:o,label:null!=(l=null==n||null==(s=n.event)?void 0:s.label)?l:"",item_list_id:u,item_list_name:n.event.item_list_name,items:d.map(function(e){return gt(e,t)}).map(function(e){return r({},e,{item_list_id:u})})};e.push(v)}}(e,t,n)}],["view_item",function(t){return function(e,n,t){var r,o,i={event:"view_item",category:"ecommerce",action:"viewProductDetail",country:t.country,label:null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",items:[gt(n.event,t)]};e.push(i)}(e,t,n)}],["select_item",function(t){return function(e,n,t){var o,i,a=n.event.item_list_id.replace("/"+n.event.country+"/"+n.event.language,""),c=n.event.items.map(function(e){return gt(e,t)}).map(function(e){return r({},e,{item_list_id:a})}),u={event:"select_item",category:"ecommerce",action:"productClick",country:t.country,label:null!=(o=null==n||null==(i=n.event)?void 0:i.label)?o:"",item_list_id:a,item_list_name:n.event.item_list_name,items:c};e.push(u)}(e,t,n)}],["add_to_cart",function(o){return function(e,n,t,o){var i,a,c,u=t.event,l=null!=(i=e.getViewItemProduct(null==u?void 0:u.item_id))?i:e.getViewItemListProduct(null==u?void 0:u.item_id);if(!l)throw new Error("viewItemProduct is missing from previous event in the funnel");var s={event:"add_to_cart",category:"ecommerce",action:"addToCart",country:o.country,label:null!=(a=null==t||null==(c=t.event)?void 0:c.label)?a:"",add_to_cart_type:null==u?void 0:u.addToCartType,items:[r({},l)]};n.push(s)}(t.dataLayer,e,o,n)}],["remove_from_cart",function(t){return function(e,n,t){var r,o,i={event:"remove_from_cart",category:"ecommerce",action:"removeFromCart",country:t.country,label:null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",items:[gt(n.event,t)]};e.push(i)}(e,t,n)}],["view_cart",function(t){return function(e,n,t){var r,o,i,a=null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",c={event:"view_cart",category:"ecommerce",action:"shoppingBagCheckout",label:a=kt(a)?a:"",country:t.country,items:null==n||null==(i=n.event)?void 0:i.items.map(function(e){return pt(e,t)})};e.push(c)}(e,t,n)}],["view_sign_in_info",function(t){return function(e,n,t){var r,o,i,a=null==(r=n.event)?void 0:r.items.map(function(e){return pt(e,t)});if(!a)throw new Error("productsInCart is missing from previous event in the funnel");var c={event:"view_sign_in_info",category:"ecommerce",action:"checkoutSignin",label:null!=(o=null==n||null==(i=n.event)?void 0:i.label)?o:"",items:a,country:t.country};e.push(c)}(e,t,n)}],["begin_checkout",function(t){return function(e,n,t){var r,o,i,a,c,u,l,s,d=null!=(r=null==n||null==(o=n.event)?void 0:o.category)?r:"";d=bt(d)?d:"";var v=null!=(i=null==n||null==(a=n.event)?void 0:a.label)?i:"";v=kt(v)?v:"";var f={event:"begin_checkout",category:d,action:null!=(c=null==n||null==(u=n.event)?void 0:u.action)?c:"",label:v,items:n.event.items.map(function(e){return pt(e,t)}),country:t.country,detail_checkout_button:null!=(l=null==n||null==(s=n.event)?void 0:s.detail_checkout_button)?l:""};e.push(f)}(e,t,n)}],["autosuggestion_form",function(t){return function(e,n,t){var r,o,i,a,c,u,l=null!=(r=null==n||null==(o=n.event)?void 0:o.category)?r:"";l=bt(l)?l:"";var s=null!=(i=null==n||null==(a=n.event)?void 0:a.label)?i:"";s=kt(s)?s:"";var d={event:"autosuggestion_form",category:l,action:null!=(c=null==n||null==(u=n.event)?void 0:u.action)?c:"",label:s,country:t.country};e.push(d)}(e,t,n)}],["add_payment_info",function(t){return function(e,n,t){var r,o,i,a,c={event:"add_payment_info",category:"checkout",action:"checkoutOptions",label:"payment",payment_type:null==n||null==(r=n.event)?void 0:r.paymentOption,country:t.country,items:null!=(o=null==(i=n.event)||null==(a=i.items)?void 0:a.map(function(e){return pt(e,t)}))?o:vt(function(e){return pt(e,t)})};e.push(c)}(e,t,n)}],["view_shipping_info",function(t){return function(e,n){e.push({event:"view_shipping_info",category:"checkout",action:"checkoutView",label:"shipping",country:n.country})}(e,n)}],["add_shipping_info",function(r){return function(e,n,t,r){var o,i,a,c,u,l=null!=(o=t.event.deliveryMethod)?o:e.getDeliveryMethod(),s={event:"add_shipping_info",shipping_tier:null!=(i=t.event.shippingOption)?i:l+"-"+t.event.selectedShippingOption,category:"checkout",action:"checkoutOptions",label:"shipping",country:r.country,items:null!=(a=null==(c=t.event)||null==(u=c.items)?void 0:u.map(function(e){return pt(e,r)}))?a:vt(function(e){return pt(e,r)})};n.push(s)}(t.dataLayer,e,r,n)}],["view_gifting_info",function(t){return function(e,n,t){var r,o,i,a={event:"view_gifting_info",category:"checkout",action:"checkoutView",label:"gifting",country:t.country,items:null!=(r=null==(o=n.event)||null==(i=o.items)?void 0:i.map(function(e){return pt(e,t)}))?r:vt(function(e){return pt(e,t)})};e.push(a)}(e,t,n)}],["add_gifting_info",function(t){return function(e,n,t){var r,o,i,a,c,u={event:"add_gifting_info",category:"checkout",action:"checkoutOptions",label:"message_"+(null!=(r=null==(o=n.event)?void 0:o.message)&&r),country:t.country,items:null!=(i=null==(a=n.event)||null==(c=a.items)?void 0:c.map(function(e){return pt(e,t)}))?i:vt(function(e){return pt(e,t)})};e.push(u)}(e,t,n)}],["purchase",function(t){return function(e,n,t){var r=n.event.order_number;if(null===Ct()||Ct()!==r){window.sessionStorage.setItem(wt,r);var o=t.exchangeRate,i=Number(o.convert(parseFloat(n.event.order_total_value)).toFixed(2)),a=Number(o.convert(parseFloat(n.event.tax_amount)).toFixed(2)),c=Number(o.convert(parseFloat(n.event.shipping_amount)).toFixed(2)),u=o.getCurrency(),l={event:"purchaseGA4",category:"ecommerce",action:"purchase",label:"",transaction_id:r,value:i,tax:a,shipping:c,local_value:n.event.order_total_value,local_tax:n.event.tax_amount,local_shipping:n.event.shipping_amount,currency:u,purchaseShippingOption:n.event.purchaseShippingOption,purchasePaymentOption:n.event.purchasePaymentOption,purchasePackagingOption:n.event.purchasePackagingOption,purchaseGiftMessageOption:n.event.purchaseGiftMessageOption,country:t.country,fourGiftCodeAfter:n.event.fourGiftCodeAfter,items:n.event.items.map(function(e){return pt(e,t)})};e.push(l)}}(e,t,n)}],["place_order",function(t){return function(e,n){e.push({event:"place_order",category:"checkout",action:"checkoutclick",label:"place_order",country:n.country})}(e,n)}],["view_payment_info",function(t){return function(e,n){e.push({event:"view_payment_info",category:"checkout",action:"checkoutView",label:"payment",country:n.country})}(e,n)}],["add_sign_in_info",function(t){return function(e,n,t){e.push({event:"add_sign_in_info",category:"checkout",action:"checkoutOptions",label:"signIn",checkoutLoginType:n.event.checkoutLoginType,country:t.country})}(e,t,n)}],["save_to_wishlist_cart_item",o],["place_order_error",o],["edit_cart_item",o],["shipping_validation_error",o],["amazon_error",o],["payment_form_error",o],["paypal_express_cart",o],["amazon_express_cart",o],["checkout_sidebar",o],["four_gift_event",o],["merge_overlay",o],["jp_navigation_step",o],["apple-error",o],["apple-pay-click",o],["collect-in-store",function(t){return function(e,n,t){var o,c,u,l,s,d,v,f,p,y,g=r({},(null==n||null==(o=n.event)?void 0:o.storeId)&&{storeId:null==n||null==(c=n.event)?void 0:c.storeId},(null==n||null==(u=n.event)?void 0:u.storeName)&&{storeName:null==n||null==(l=n.event)?void 0:l.storeName},(null==n||null==(s=n.event)?void 0:s.storeCity)&&{storeCity:null==n||null==(d=n.event)?void 0:d.storeCity},(null==n||null==(v=n.event)?void 0:v.storeState)&&{storeState:null==n||null==(f=n.event)?void 0:f.storeState}),m=new a(i,"checkout",null==n||null==(p=n.event)?void 0:p.action,null==n||null==(y=n.event)?void 0:y.label,t.country,g);e.push(m)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["herosinglecomponent.show",function(t){return function(e,n,t){var o=r({},Bt(n),{action:"displayHeroSingle",country:t.country});e.push(o)}(e,t,n)}],["herosinglecomponent.tap",function(t){return function(e,n,t){var o,i=r({},Bt(n),{action:"actionHeroSingle",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}],["herocarouselcomponent.mouseover",function(t){return function(e,n,t){var o=r({},Nt(n),{action:"overHeroCarousel",country:t.country});e.push(o)}(e,t,n)}],["herocarouselcomponent.mouseclick",function(t){return function(e,n,t){var o=r({},Nt(n),{action:"actionHeroCarousel",country:t.country});e.push(o)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["routingupcomponent.show",function(t){return function(e,n,t){var o=r({},Jt(n),{action:"displayRoutingUp",country:t.country});e.push(o)}(e,t,n)}],["routingupcomponent.tap",function(t){return function(e,n,t){var o,i=r({},Jt(n),{action:"actionRoutingUp",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["featuredcomponent.show",function(t){return function(e,n,t){var o=r({},Ot(n),{action:"displayFeatured",country:t.country});e.push(o)}(e,t,n)}],["featuredcomponent.tap",function(t){return function(e,n,t){var o,i=r({},Ot(n),{action:"actionFeatured",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["productcomponent.show",function(t){return function(e,n,t){var o=r({},qt(n),{action:"displayProductComponent",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.tap",function(t){return function(e,n,t){var o,i,a=r({},qt(n),{action:null!=n&&null!=(o=n.event)&&o.isCategory?"actionProductCategoryComponent":"actionProductComponent",actionElement:null==n||null==(i=n.event)?void 0:i.actionElement,country:t.country});e.push(a)}(e,t,n)}],["productcomponent.arrow.tap",function(t){return function(e,n,t){var o=r({},zt(n),jt(n),Vt(n),{action:"actionProductComponentArrow",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.arrow.over",function(t){return function(e,n,t){var o=r({},zt(n),jt(n),{action:"overProductComponentArrow",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.bar",function(t){return function(e,n,t){var o=r({},zt(n),Vt(n),{action:"actionProductComponentBar",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.drag",function(t){return function(e,n,t){var o=r({},zt(n),Vt(n),{action:"actionProductComponentDrag",country:t.country});e.push(o)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map(Rt.map(function(t){return[t,function(t){return l(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(It.map(function(t){return[t,function(t){return function(e,n,t){var a,c,u,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(a=l.category)?a:o("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:o("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.minicartCurrentPage&&{minicartCurrentPage:l.minicartCurrentPage},{country:t.country});e.push(s)}(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(kr.map(function(t){return[t,function(t){return l(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(At.map(function(t){return[t,function(t){return l(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(er.map(function(t){return[t,function(t){return l(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(nr.map(function(t){return[t,function(t){return function(e,n,t){var a,c,u,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(a=l.category)?a:o("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:o("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.menuLabelsDisplayed&&{menuLabelsDisplayed:l.menuLabelsDisplayed},l.menuCurrentPage&&{menuCurrentPage:l.menuCurrentPage},l.menuUrlDestination&&{menuUrlDestination:l.menuUrlDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(gr.map(function(t){return[t,function(t){return function(e,n,t){var a,c,u,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(a=l.category)?a:o("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:o("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.experiments&&{experiments:l.experiments},{country:t.country});e.push(s)}(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(pr.map(function(t){return[t,function(t){return function(e,n,t){var a,c,u,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(a=l.category)?a:o("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:o("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.linkDestination&&{linkDestination:l.linkDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map(xr.map(function(t){return[t,function(t){return function(e,n,t){var a,c,u,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(a=l.category)?a:o("Error: category in genericEvent is null or undefined"),action:null!=(c=l.action)?c:o("Error: action in genericEvent is null or undefined"),label:null!=(u=l.label)?u:""},l.linkDestination&&{linkDestination:l.linkDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(f,v).entries()),Array.from(function(e,n){return new Map([].concat(Array.from(new Map(Ft.map(function(t){return[t,function(t){return l(e,t,n)}]}))),[["myAccount.trackUserLogged",function(t){return function(e,n,t){var r,o,a,c,u,l,s,d,v,f,p,y,g=0;void 0!==(null==t||null==(r=t.event)||null==(o=r.data)?void 0:o.is_logged)&&(g=null!=t&&null!=(p=t.event)&&null!=(y=p.data)&&y.is_logged?1:0);var m={event:i,category:null!=(a=null==t||null==(c=t.event)?void 0:c.category)?a:"my account",action:null!=(u=null==t||null==(l=t.event)?void 0:l.action)?u:"track user logged",label:null==t||null==(s=t.event)?void 0:s.label,country:n.country,klientid:null!=(d=null==t||null==(v=t.event)||null==(f=v.data)?void 0:f.klientid)?d:"",userLogged:g};e.push(m)}(e,n,t)}]]))}(f,v).entries()),Array.from(function(e,n){return new Map([["storediscovery.stores-map-move",function(t){return Xt(e,t,n)}],["storediscovery.filter-stores",function(t){return Xt(e,t,n)}],["storediscovery.page_view",function(t){return Xt(e,t,n)}],["storediscovery.store-search",function(t){return $t(e,n,t)}],["storediscovery.find-in-store-search",function(t){return $t(e,n,t)}],["storediscovery.stores-map-zoom",function(t){return function(e,n,t){var r,o,a,c={event:i,action:null==n||null==(r=n.event)?void 0:r.zoom_type,label:null==n||null==(o=n.event)?void 0:o.action,category:null==n||null==(a=n.event)?void 0:a.category,country:t.country};e.push(c)}(e,t,n)}],["storediscovery.store-pin",function(t){return function(e,n,t){var r,o,c,u,l,s,d,v,f,p,y,g={storeName:null==n||null==(r=n.event)||null==(o=r.storeDetails)?void 0:o.name,storeCity:null==n||null==(c=n.event)||null==(u=c.storeDetails)?void 0:u.city,storeCountry:null==n||null==(l=n.event)||null==(s=l.storeDetails)?void 0:s.country,storeCategory:null==n||null==(d=n.event)||null==(v=d.storeDetails)?void 0:v.category},m=new a(i,null==n||null==(f=n.event)?void 0:f.category,null==n||null==(p=n.event)?void 0:p.action,null==n||null==(y=n.event)?void 0:y.label,t.country,g);e.push(m)}(e,t,n)}],["storediscovery.store-view-click",function(t){return function(e,n,t){var o,c,u,l,s,d,v,f,p,y,g,m=r({},(null==n||null==(o=n.event)||null==(c=o.storeDetails)?void 0:c.storeName)&&{storeName:null==n||null==(u=n.event)||null==(l=u.storeDetails)?void 0:l.storeName},(null==n||null==(s=n.event)||null==(d=s.storeDetails)?void 0:d.storeSlug)&&{storeSlug:null==n||null==(v=n.event)||null==(f=v.storeDetails)?void 0:f.storeSlug}),h=new a(i,null==n||null==(p=n.event)?void 0:p.category,null==n||null==(y=n.event)?void 0:y.action,null==n||null==(g=n.event)?void 0:g.label,t.country,m);e.push(h)}(e,t,n)}],["storediscovery.error",function(t){return Xt(e,t,n)}],["storediscovery.view_search_results",function(t){return $t(e,n,t,Zt)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["clientServices.emailus",function(t){return Yt(e,t,n)}],["clientServices.clickToCall",function(t){return Yt(e,t,n)}],["clientServices.messageUs",function(t){return Yt(e,t,n)}],["clientServices.page_view",function(t){return Yt(e,t,n)}]])}(f,v).entries()),Array.from(function(e){var n=function(n){return function(e,n){var t,o;if(n&&n.event){var i=n.event.country,a=r({event:"genericEvent",category:"my gucci appointments",action:null==n||null==(t=n.event)?void 0:t.action,label:null==n||null==(o=n.event)?void 0:o.label},i&&{country:i});e.push(a)}}(e,n)};return new Map([["myappointmetsreminder.available",n],["myappointmetsreminder.seen",n],["myappointmetsreminder.click",n]])}(f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t,r){l(e,c(Ht,t,r),n)}return{trackOpenSizeSelect:function(t){e.push({event:i,category:Ht,action:"click to open size select",label:t.event.styleCode,sizeOptions:t.event.sizeOptions,country:n.country})},trackScrollCarousel:function(t){e.push({event:i,category:Ht,action:"scroll alternative views",label:t.event.styleCode,indexCarousel:t.event.indexCarousel,country:n.country})},trackClickCarouselArrows:function(t){e.push({event:i,category:Ht,action:"click on arrows to navigate alternative views",label:t.event.styleCode,indexCarousel:t.event.indexCarousel,country:n.country})},trackClickSizeGuideLink:function(e){return t("click on size guide link in pdp",e.event.productCategory)},trackZoomIn:function(e){return t("zoom in",e.event.styleCode)},trackZoomInNextArrow:function(e){return t("zoom in - click on next arrow",e.event.styleCode)},trackZoomInPreviousArrow:function(e){return t("zoom in - click on previous arrow",e.event.styleCode)},trackZoomInProductDetailsButton:function(e){return t("zoom in - click on product details button",e.event.styleCode)},trackOpenVariationPanel:function(e){return t("click to open variation panel",e.event.styleCode)},trackClickPdpAccordion:function(e){return t("click on pdp accordion",e.event.accordionTitle)},trackScrollCrossSell:function(t){return function(t,o){Gt({name:o.name,event:r({},o.event,{action:"scroll item - CrossSell",category:"personalization"})},n.country,e)}(0,t)},trackClickOnFindInStoreLink:function(e){return t("click on find in store link",e.event.styleCode)},trackClickOnFindInStoreButton:function(e){return t("click on find in store button",e.event.styleCode)},trackClickOnAddToCart:function(t){e.push({event:i,category:Ht,action:"click on addToCart",label:t.event.styleCode,sku:t.event.sku,country:n.country})},trackAddToCartFailed:function(t){e.push({event:i,category:Ht,action:"addToCart fail",label:t.event.styleCode,country:n.country,sku:t.event.sku,errorMessage:t.event.errorMessage})},trackStartLoading360View:function(e){return t("startLoading360View",e.event.styleCode)},trackRender360View:function(e){return t("display360View",e.event.styleCode)},trackClick360View:function(e){return t("action360View",e.event.styleCode)},trackPlay360View:function(e){return t("play360View",e.event.styleCode)},trackRenderEditorialView:function(e){return t("displayEditorialView",e.event.styleCode)},trackEnabledEditorialView:function(e){return t("enabledEditorialView",e.event.styleCode)},trackDisabledEditorialView:function(e){return t("disabledEditorialView",e.event.styleCode)},trackClickOnViewSimilarProducts:function(e){return t("click on view similar products",e.event.styleCode)},trackClickOnContactUs:function(e){return t("click on contact us",e.event.styleCode)},trackClickOnCallUs:function(e){return t("click on call us",e.event.styleCode)},trackClickOnOpenSizeOverview:function(e){return t("click to open size overview",e.event.styleCode)},trackClickOnCloseSizeOverview:function(e){return t("click on close in size overview",e.event.styleCode)},trackSelectProductSizeOverview:function(e){return t("click on product in size overview",e.event.styleCode)},trackClickShopThisSizeOverview:function(e){return t("click on shop on line in size overview",e.event.styleCode)},trackHasBagSizeSelector:function(e){return t("hasBagSizeSelector",e.event.styleCode)},trackDisplayBagSizeSelectorCTA:function(e){return t("displayBagSizeSelectorCTA",e.event.styleCode)}}}(e,n);return new Map([["productPage.clickToOpenSizeSelect",t.trackOpenSizeSelect],["productPage.clickOnSizeGuideLinkInPdp",t.trackClickSizeGuideLink],["productPage.scrollAlternativeViews",t.trackScrollCarousel],["productPage.clickOnArrowsToNavigateAlternativeViews",t.trackClickCarouselArrows],["productPage.zoomIn",t.trackZoomIn],["productPage.zoomInClickOnNextArrow",t.trackZoomInNextArrow],["productPage.zoomInClickOnPreviousArrow",t.trackZoomInPreviousArrow],["productPage.zoomInClickOnProductDetailsButton",t.trackZoomInProductDetailsButton],["productPage.clickToOpenVariationPanel",t.trackOpenVariationPanel],["productPage.clickOnPdpAccordion",t.trackClickPdpAccordion],["personalization.scrollItemCrossSell",t.trackScrollCrossSell],["productPage.clickOnFindInStoreLink",t.trackClickOnFindInStoreLink],["productPage.clickOnFindInStoreButton",t.trackClickOnFindInStoreButton],["productPage.clickOnAddToCart",t.trackClickOnAddToCart],["productPage.addToCartFailed",t.trackAddToCartFailed],["productPage.clickOnViewSimilarProducts",t.trackClickOnViewSimilarProducts],["productPage.clickOnContactUs",t.trackClickOnContactUs],["productPage.clickOnCallUs",t.trackClickOnCallUs],["productPage.startLoading360View",t.trackStartLoading360View],["productPage.render360View",t.trackRender360View],["productPage.clickOn360View",t.trackClick360View],["productPage.playOn360View",t.trackPlay360View],["productPage.renderEditorialView",t.trackRenderEditorialView],["productPage.enabledEditorialView",t.trackEnabledEditorialView],["productPage.disabledEditorialView",t.trackDisabledEditorialView],["productPage.clickOnOpenSizeOverview",t.trackClickOnOpenSizeOverview],["productPage.clickOnCloseSizeOverview",t.trackClickOnCloseSizeOverview],["productPage.selectProductSizeOverview",t.trackSelectProductSizeOverview],["productPage.clickShopThisSizeOverview",t.trackClickShopThisSizeOverview],["productPage.hasBagSizeSelector",t.trackHasBagSizeSelector],["productPage.displayBagSizeSelectorCTA",t.trackDisplayBagSizeSelectorCTA]])}(f,v).entries()),Array.from(function(e,n){return new Map([["searchPage.clickOnLinksInSearchBox",ar(e,n)],["searchPage.search",ir(e,n)],["searchPage.siteSearch",cr(e,n)],["searchPage.viewSearchResults",ur(e,n)]])}(f,v).entries()),Array.from(function(e,n){return new Map([["generic.capsule",function(t){return l(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["gucciapp.appbanner.click",function(t){return l(e,c("app banner","click on app banner",t.event.label),n)}],["gucciapp.appbanner.show",function(t){return l(e,c("app banner","app banner shown",t.event.label),n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["clientAdvisor.openOverlay",function(t){return Qt(e,t,n)}],["clientAdvisor.startSession",function(t){return Qt(e,t,n)}],["clientAdvisor.changeStore",function(t){return Qt(e,t,n)}],["clientAdvisor.logout",function(t){return Qt(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["livechat",function(t){return l(e,t,n)}],["videochat",function(t){return function(e,n,t){var o,a={category:n.event.category,country:t.country,agentId:n.event.agentId,agentName:n.event.agentName,location:n.event.location,callId:n.event.callId,event:i};switch(n.event.action){case"tab_shown":o=r({label:"not started",action:n.event.action.replace("_"," ")},a);break;case"tab_closed":o=r({label:void 0!==n.event.callId?"available":"not started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},a);break;case"tab_clicked":o=r({label:void 0!==n.event.callId?"closed":"not started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},a);break;case"call_requested":o=r({label:"started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},a);break;case"call_connected":case"call_resumed":o=r({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"agent"},a);break;case"call_ended":o=r({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"true"===n.event.userHangup?"customer":"agent"},a);break;case"call_hold":o=r({label:"on_hold",action:n.event.action.replace("_"," "),videoCallActorType:"agent"},a);break;case"audio_toggled":o=r({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},a);break;case"survey_feedback_submitted":case"survey_happy_clicked":case"survey_unhappy_clicked":o=r({label:"closed",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},a);break;default:o=r({label:JSON.stringify(n),action:n.event.action},a)}e.push(o)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["distanceSales",function(t){return function(e,n,t){var o="purchase"===n.event.action,a=r({event:i,action:n.event.action},!o&&{label:n.event.label},{category:n.event.category,country:t.country},o&&{distanceSalesRevenue:n.event.revenue},o&&{distanceSalesTransactionId:n.event.label});e.push(a)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["generic.event",function(t){return l(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["fitPredictor.clickOnWidget",sr(e,n)],["fitPredictor.productSupportedOrNo",dr(e,n)],["fitPredictor.productProfiled",vr(e,n)],["fitPredictor.sizePredicted",fr(e,n)]])}(f,v).entries()),Array.from(function(e,n){var t=function(e,n){function t(t,r){l(e,c(yr,t,r),n)}return{trackClickOnLoadMore:function(){return t("click on load more",function(){var e=window.location.pathname;if(e.indexOf("/search")>=0||e.indexOf("/newsearchpage")>=0)return"search-result-page";if(e.indexOf("-c-")>-1){var n=e.split("-c-")[0].split("/");return n[n.length-1]}return""}())},trackAddToWishlist:function(t){e.push({event:i,category:yr,action:"add to wishlist",label:"Logged: "+t.event.userLogged,country:n.country})},trackClickOnPromoComponent:function(e){return t("click on promo component link",e.event.label)},trackClickOnAlternativeView:function(t){e.push({event:i,category:yr,action:"click on alternative view",label:t.event.styleCode+" - "+t.event.slidePosition,country:n.country})}}}(e,n);return new Map([["productGrid.clickOnLoadMore",t.trackClickOnLoadMore],["productGrid.addToWishList",t.trackAddToWishlist],["productGrid.clickOnPromoComponent",t.trackClickOnPromoComponent],["productGrid.clickOnAlternativeView",t.trackClickOnAlternativeView]])}(f,v).entries()),Array.from(function(e,n){return new Map([["storiesmodulecomponent.show",function(t){return function(e,n,t){var o=r({},hr(n),{action:"displayStory",country:t.country});e.push(o)}(e,t,n)}],["storiesmodulecomponent.title.tap",function(t){return function(e,n,t){var o=r({},br(n),{action:"actionTitleStories",country:t.country});e.push(o)}(e,t,n)}],["storiesmodulecomponent.cta.tap",function(t){return function(e,n,t){var o=r({},br(n),{action:"actionMainCtaStories",country:t.country});e.push(o)}(e,t,n)}],["storiesmodulecomponent.story.tap",function(t){return function(e,n,t){var o=r({},function(e){var n;return r({},br(e),{actionElement:null==e||null==(n=e.event)?void 0:n.actionElement})}(n),{action:"actionStory",country:t.country});e.push(o)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){var t=function(e,n){function t(t){e.push({event:i,category:wr,action:"filter by "+t.event.filterType+" "+t.event.categoryName,label:t.event.clickedItem,indexFilter:t.event.indexFilter,country:n.country})}return{trackClickOnSortBy:function(t){e.push({event:i,category:wr,action:"sort by "+t.event.categoryName,label:t.event.clickedItem,country:n.country})},trackClickOnFilterType:t,trackClickOnCategory:function(e){var n=r({},e.event,{filterType:"category"});t({name:e.name,event:n})},trackClickOnFilters:function(t){l(e,c(wr,"filter by "+t.event.filterType+" "+t.event.categoryName,t.event.clickedFilters),n)},trackClickOnSortBySearchResultPage:function(t){l(e,c(wr,"sort by "+Cr,t.event.clickedSortBy),n)},trackClickOnFilterBySearchResultPage:function(t){l(e,c(wr,"filter by "+Cr,t.event.clickedItem),n)}}}(e,n);return new Map([["filter.clickOnSortBy",t.trackClickOnSortBy],["filter.clickOnFilterByLine",t.trackClickOnFilterType],["filter.clickOnFilterByCategory",t.trackClickOnCategory],["filter.clickOnFilterByFilters",t.trackClickOnFilters],["filter.clickOnSortBySearchResultPage",t.trackClickOnSortBySearchResultPage],["filter.clickOnFilterBySearchResultPage",t.trackClickOnFilterBySearchResultPage]])}(f,v).entries()),Array.from(function(e,n){return new Map([["mediacomponent.show",function(t){return function(e,n,t){var o=r({},Sr(n),{action:"displayMedia",country:t.country});e.push(o)}(e,t,n)}],["mediacomponent.tap",function(t){return function(e,n,t){var o=r({},function(e){var n;return r({},Sr(e),{actionElement:null==e||null==(n=e.event)?void 0:n.actionElement})}(n),{action:"actionMedia",country:t.country});e.push(o)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["mosaiccomponent.show",function(t){return function(e,n,t){var o=r({},Er(n),{action:"displayMosaicSingle",country:t.country});e.push(o)}(e,t,n)}],["mosaiccomponent.tap",function(t){return function(e,n,t){var o=r({},Er(n),{action:"actionMosaicSingle",country:t.country});e.push(o)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){return new Map([["herofullbleedcomponent.show",function(t){return function(e,n,t){var o,i,a=r({},Bt(n),{action:"displayHeroFullBleed",country:t.country,cta2UrlDestination:null==n||null==(o=n.event)?void 0:o.cta2UrlDestination,cta2Label:null==n||null==(i=n.event)?void 0:i.cta2Label});e.push(a)}(e,t,n)}],["herofullbleedcomponent.tap",function(t){return function(e,n,t){var o,i=r({},Bt(n),{action:"actionHeroFullBleed",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(f,v).entries()),Array.from(function(e,n){var t=function(e,n){return{trackDrawerProductGrid:function(t){var o=r({event:i,category:t.event.category,action:t.event.action,label:t.event.label,outOfStock:t.event.outOfStock,country:n.country},t.event.actionElement?{actionElement:t.event.actionElement}:{});e.push(o)},trackClickDrawerCTA:function(t){l(e,c(t.event.category,t.event.action,t.event.label),n)}}}(e,n);return new Map([["shopTheLookDrawer.productGrid",t.trackDrawerProductGrid],["shopTheLookDrawer.clickCTA",t.trackClickDrawerCTA]])}(f,v).entries()),Array.from(function(e,n){var t=function(e,n){function t(t){Gt(t,n.country,e)}return{trackCrossSellRenderOrNot:function(e){return t(e)},trackCrossSellIntersectionViewport:function(e){return t(e)}}}(e,n);return new Map([["crossSell.renderOrNot",t.trackCrossSellRenderOrNot],["crossSell.intersectionViewport",t.trackCrossSellIntersectionViewport]])}(f,v).entries()),Array.from(function(e,n){var t=function(e,n){return function(t){e.push({event:i,category:t.event.category,action:t.event.action,label:t.event.label,outOfStock:t.event.outOfStock,country:n.country})}}(e,n);return new Map([["completeTheLook.lookProduct",t]])}(f,v).entries()),Array.from(function(e,n){var t=function(e,n){return{trackClickCarouselCTA:function(t){var r,o={event:i,category:t.event.category,action:t.event.action,label:t.event.label,country:n.country,urlDestination:null==t||null==(r=t.event)?void 0:r.urlDestination};e.push(o)}}}(e,n);return new Map([["shopTheLookCarousel.clickCTA",t.trackClickCarouselCTA]])}(f,v).entries())))}var Pr=function(e){function n(n){try{var t=Lr(e).get(n.name);t&&t(n)}catch(e){var r=n.name+":"+(e instanceof Error?e.message:"string"==typeof e?e:e.message);Tr.logError("sendEvent error",{lib_version:ct,payload:n,error_message:r})}window.analyticsSdkReady=!0,document.dispatchEvent(new Event("analyticsSdkReady"))}return{sendEvent:n,asyncSendEvent:function(e){return new Promise(function(t){setTimeout(function(){n(e),t()},0)})}}},Rr=Pr(Ir());function Ir(){return window.location.pathname.split("/")[1]}e.LIB_VERSION=ct,e.datadog=Tr,e.initTrackers=Lr,e.initTracking=Pr,e.trackers=Ar,e.tracking=Rr});
